/**
  ******************************************************************************
  * File Name: bsp.c
  * Author: Vector
  * Version: V1.0.0
  * Date: 2018 - 1 - 5
  * Brief: 板级支持包，提供基本外设如GPIO、TIM的时钟使能函数，及RCC时钟源获取
  ******************************************************************************
  * History
  *
  *  1.Date：2018-1-5
  *		 Author: Vector
  *    Modification: 建立文件，第一次建立基本函数
  *
  ******************************************************************************
  */

/*
  ******************************************************************************
  *                              INCLUDE FILES
  ******************************************************************************
*/
# include "bsp.h"

/*
*********************************************************************************************************
*                                          bsp_Config
*
* Description: 板级资源初始化函数，初始化如按键、定时器、串口等常用功能
*             
* Arguments  : 无
*
* Reutrn     : 无
*
* Note(s)    : 该函数的初始化功能可在bsp.h里面配置，去掉不需要使用的功能
*********************************************************************************************************
*/
void bsp_Config(void)
{		
	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_4);
	bsp_tim_Init();
	bsp_uart_Init();
	bsp_led_Init();
//	bsp_motor_Config();
}


/*
*********************************************************************************************************
*                                       bsp_SoftReset   
*
* Description: 软件复位内核
*             
* Arguments  : 无
*
* Reutrn     ：无
*
* Note(s)    : 无
*********************************************************************************************************
*/
void bsp_SoftReset(void)
{
	__set_FAULTMASK(1);
	NVIC_SystemReset();
}

/*
*********************************************************************************************************
*                                          
*
* Description: 
*             
* Arguments  : 
*
* Reutrn     : 
*
* Note(s)    : 
*********************************************************************************************************
*/
void bsp_IdleTask(void)
{
	
}

# if USE_FREERTOS > 0u
/*
*********************************************************************************************************
*                                          
*
* Description: 
*             
* Arguments  : 
*
* Reutrn     : 
*
* Note(s)    : 
*********************************************************************************************************
*/
void vApplicationMallocFailedHook( void )
{
	portDISABLE_INTERRUPTS();
	while(1);
}
# endif

/********************************************  END OF FILE  *******************************************/
